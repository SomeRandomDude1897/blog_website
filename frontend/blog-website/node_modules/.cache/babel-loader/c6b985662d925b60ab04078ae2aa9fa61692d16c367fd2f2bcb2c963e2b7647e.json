{"ast":null,"code":"import CrossImage from\"./images/cross.png\";import{v4 as uuidv4}from\"uuid\";import{useState}from\"react\";import\"./styles/AddImages.css\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const AddImagesComponent=props=>{function AddPicture(event){event.preventDefault();if(props.images.length<props.max_images){if(currentPicture!=null){const newPicture={file:currentPicture,id:uuidv4()};// Добавляем новый объект в массив картинок\nprops.setImages(props.images.concat(newPicture));}}}const[currentPicture,setCurrentPicture]=useState(null);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"PostFileInput\",children:[\" \",\"Прикрепите картинки\"+(props.max_images?\" (не больше \"+String(props.max_images)+\")\":\"\")]}),/*#__PURE__*/_jsx(\"input\",{id:\"PostFileInput\",accept:\"image/*\",type:\"file\",multiple:true,onChange:e=>setCurrentPicture(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:AddPicture,children:\" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{className:\"added-pictures-box\",children:props.images.map(item=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"added-picture-box\",children:[/*#__PURE__*/_jsx(\"div\",{children:item.file.name}),/*#__PURE__*/_jsx(\"img\",{className:\"delete-image-button\",src:CrossImage,alt:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",onClick:()=>{props.setImages(props.images.filter(image=>image.id!==item.id));}})]},item.id);})})]});};export default AddImagesComponent;","map":{"version":3,"names":["CrossImage","v4","uuidv4","useState","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AddImagesComponent","props","AddPicture","event","preventDefault","images","length","max_images","currentPicture","newPicture","file","id","setImages","concat","setCurrentPicture","children","htmlFor","String","accept","type","multiple","onChange","e","target","files","onClick","className","map","item","name","src","alt","filter","image"],"sources":["/media/starrynight/main_pt/projects_linux/blog_website/frontend/blog-website/src/AddImagesComponent.js"],"sourcesContent":["import CrossImage from \"./images/cross.png\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useState } from \"react\";\nimport \"./styles/AddImages.css\";\n\nconst AddImagesComponent = (props) => {\n  function AddPicture(event) {\n    event.preventDefault();\n    if (props.images.length < props.max_images) {\n      if (currentPicture != null) {\n        const newPicture = {\n          file: currentPicture,\n          id: uuidv4(),\n        };\n\n        // Добавляем новый объект в массив картинок\n        props.setImages(props.images.concat(newPicture));\n      }\n    }\n  }\n\n  const [currentPicture, setCurrentPicture] = useState(null);\n\n  return (\n    <>\n      <label htmlFor=\"PostFileInput\">\n        {\" \"}\n        {\"Прикрепите картинки\" +\n          (props.max_images\n            ? \" (не больше \" + String(props.max_images) + \")\"\n            : \"\")}\n      </label>\n      <input\n        id=\"PostFileInput\"\n        accept=\"image/*\"\n        type=\"file\"\n        multiple\n        onChange={(e) => setCurrentPicture(e.target.files[0])}\n      />\n      <button onClick={AddPicture}> Добавить картинку</button>\n      <div className=\"added-pictures-box\">\n        {props.images.map((item) => {\n          return (\n            <div key={item.id} className=\"added-picture-box\">\n              <div>{item.file.name}</div>\n              <img\n                className=\"delete-image-button\"\n                src={CrossImage}\n                alt=\"Удалить изображение\"\n                onClick={() => {\n                  props.setImages(\n                    props.images.filter((image) => image.id !== item.id)\n                  );\n                }}\n              />\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default AddImagesComponent;\n"],"mappings":"AAAA,MAAO,CAAAA,UAAU,KAAM,oBAAoB,CAC3C,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CACnC,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,wBAAwB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhC,KAAM,CAAAC,kBAAkB,CAAIC,KAAK,EAAK,CACpC,QAAS,CAAAC,UAAUA,CAACC,KAAK,CAAE,CACzBA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAIH,KAAK,CAACI,MAAM,CAACC,MAAM,CAAGL,KAAK,CAACM,UAAU,CAAE,CAC1C,GAAIC,cAAc,EAAI,IAAI,CAAE,CAC1B,KAAM,CAAAC,UAAU,CAAG,CACjBC,IAAI,CAAEF,cAAc,CACpBG,EAAE,CAAEnB,MAAM,CAAC,CACb,CAAC,CAED;AACAS,KAAK,CAACW,SAAS,CAACX,KAAK,CAACI,MAAM,CAACQ,MAAM,CAACJ,UAAU,CAAC,CAAC,CAClD,CACF,CACF,CAEA,KAAM,CAACD,cAAc,CAAEM,iBAAiB,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAE1D,mBACEE,KAAA,CAAAI,SAAA,EAAAgB,QAAA,eACEpB,KAAA,UAAOqB,OAAO,CAAC,eAAe,CAAAD,QAAA,EAC3B,GAAG,CACH,qBAAqB,EACnBd,KAAK,CAACM,UAAU,CACb,cAAc,CAAGU,MAAM,CAAChB,KAAK,CAACM,UAAU,CAAC,CAAG,GAAG,CAC/C,EAAE,CAAC,EACJ,CAAC,cACRV,IAAA,UACEc,EAAE,CAAC,eAAe,CAClBO,MAAM,CAAC,SAAS,CAChBC,IAAI,CAAC,MAAM,CACXC,QAAQ,MACRC,QAAQ,CAAGC,CAAC,EAAKR,iBAAiB,CAACQ,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACvD,CAAC,cACF3B,IAAA,WAAQ4B,OAAO,CAAEvB,UAAW,CAAAa,QAAA,CAAC,oGAAkB,CAAQ,CAAC,cACxDlB,IAAA,QAAK6B,SAAS,CAAC,oBAAoB,CAAAX,QAAA,CAChCd,KAAK,CAACI,MAAM,CAACsB,GAAG,CAAEC,IAAI,EAAK,CAC1B,mBACEjC,KAAA,QAAmB+B,SAAS,CAAC,mBAAmB,CAAAX,QAAA,eAC9ClB,IAAA,QAAAkB,QAAA,CAAMa,IAAI,CAAClB,IAAI,CAACmB,IAAI,CAAM,CAAC,cAC3BhC,IAAA,QACE6B,SAAS,CAAC,qBAAqB,CAC/BI,GAAG,CAAExC,UAAW,CAChByC,GAAG,CAAC,+GAAqB,CACzBN,OAAO,CAAEA,CAAA,GAAM,CACbxB,KAAK,CAACW,SAAS,CACbX,KAAK,CAACI,MAAM,CAAC2B,MAAM,CAAEC,KAAK,EAAKA,KAAK,CAACtB,EAAE,GAAKiB,IAAI,CAACjB,EAAE,CACrD,CAAC,CACH,CAAE,CACH,CAAC,GAXMiB,IAAI,CAACjB,EAYV,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAX,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}